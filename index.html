&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;å¼€è´¢é—¨ | Fortune Gate&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"&gt;&lt;/script&gt;
    &lt;style&gt;
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --red: #D92121;
            --gold: #FFD700;
            --white: #FFFFFF;
            --light-gold: #FFF3CD;
            --dark-gray: #333333;
            --shadow: rgba(0, 0, 0, 0.15);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, var(--red) 0%, #B81D1D 100%);
            min-height: 100vh;
            color: var(--dark-gray);
            overflow-x: hidden;
        }
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        header {
            text-align: center;
            padding: 20px 0;
            color: var(--white);
        }
        .title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px var(--shadow);
        }
        .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .main-content { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 30px 25px;
            box-shadow: 0 10px 40px var(--shadow);
            margin-bottom: 20px;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--gold) 0%, #F5C800 100%);
            color: var(--dark-gray);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5); }
        .btn-secondary { background: var(--light-gold); color: var(--dark-gray); margin-top: 10px; }
        .btn-secondary:hover { background: #FFECB3; }
        .question-card { text-align: center; }
        .question-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        .options { display: flex; flex-direction: column; gap: 12px; }
        .option {
            padding: 15px 20px;
            background: var(--light-gold);
            border: 2px solid transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
        }
        .option:hover { border-color: var(--gold); transform: translateX(5px); }
        .option.selected { border-color: var(--red); background: #FFE0E0; }
        .gate-title {
            text-align: center;
            color: var(--white);
            margin-bottom: 15px;
            font-size: 1.4rem;
            font-weight: bold;
        }
        .progress-bar {
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--gold);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        .result-card { text-align: center; }
        .card-type {
            display: inline-block;
            background: var(--red);
            color: var(--white);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
        .card-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--red);
            margin-bottom: 20px;
        }
        .section { margin-bottom: 25px; text-align: left; }
        .section-title {
            font-weight: 700;
            color: var(--red);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .section-content { line-height: 1.8; color: var(--dark-gray); }
        .warnings-list { list-style: none; padding: 0; }
        .warnings-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            line-height: 1.6;
        }
        .warnings-list li::before { content: "âš ï¸"; position: absolute; left: 0; }
        .task-box {
            background: var(--light-gold);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
        }
        .nav-buttons { display: flex; gap: 10px; margin-top: 20px; }
        .nav-buttons .btn { flex: 1; }
        .welcome-emoji { font-size: 4rem; margin-bottom: 20px; }
        .welcome-text {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 30px;
            color: var(--dark-gray);
        }
        .menu-card { display: flex; flex-direction: column; gap: 15px; }
        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: var(--light-gold);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .menu-item:hover { transform: translateX(5px); background: #FFECB3; }
        .menu-emoji { font-size: 2rem; margin-right: 15px; }
        .menu-text { flex: 1; font-weight: 600; }
        .footer {
            text-align: center;
            padding: 20px;
            color: var(--white);
            font-size: 0.8rem;
            opacity: 0.8;
            line-height: 1.6;
        }
        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .treasury-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .treasury-item {
            background: var(--light-gold);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .treasury-item:hover { transform: scale(1.05); }
        .treasury-item.locked { opacity: 0.5; cursor: not-allowed; }
        .treasury-emoji { font-size: 2.5rem; margin-bottom: 10px; }
        .treasury-name { font-weight: 600; font-size: 0.9rem; }
        .daily-wisdom {
            font-size: 1.3rem;
            font-style: italic;
            line-height: 1.8;
            color: var(--dark-gray);
            padding: 20px;
            background: var(--light-gold);
            border-radius: 12px;
            border-left: 4px solid var(--gold);
        }
        #poster-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #poster {
            background: linear-gradient(135deg, var(--red) 0%, #B81D1D 100%);
            padding: 40px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }
        #poster .poster-title {
            color: var(--gold);
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 20px;
        }
        #poster .poster-content {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            color: var(--dark-gray);
            line-height: 1.8;
        }
        .small-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 15px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;header&gt;
            &lt;div class="title"&gt;ğŸ® å¼€è´¢é—¨&lt;/div&gt;
            &lt;div class="subtitle"&gt;Fortune Gate&lt;/div&gt;
        &lt;/header&gt;
        &lt;div class="main-content"&gt;
            &lt;div id="welcome-page" class="fade-in"&gt;
                &lt;div class="card"&gt;
                    &lt;div class="welcome-emoji"&gt;ğŸ§§ğŸ’°ğŸ§¨&lt;/div&gt;
                    &lt;div class="welcome-text"&gt;
                        30ç§’é—¯ä¸€å…³ï¼Œè§£é”è´¢ç¥çœŸä¼ ï¼Œ&lt;br&gt;
                        å¼€è´¢é—¨è¿å¥½è¿ï¼Œä»Šå¹´æé’±ä¸€è·¯é¡ºï¼&lt;br&gt;&lt;br&gt;
                        è¿™æ˜¯ä¸­å›½ä¼ ç»Ÿæ­£å‘æ°‘ä¿—æ–‡åŒ–ä¸ç§¯æå¿ƒç†å­¦çš„ç»“åˆï¼Œ&lt;br&gt;
                        ä¸æ˜¯å°å»ºè¿·ä¿¡ï¼Œæ˜¯æé’±è¡ŒåŠ¨æŒ‡å—ï½
                    &lt;/div&gt;
                    &lt;button class="btn btn-primary" onclick="startGame()"&gt;å¼€å¯ç¬¬ä¸€æ‰‡è´¢é—¨ ğŸšª&lt;/button&gt;
                    &lt;button class="btn btn-secondary" onclick="showMenu()"&gt;çœ‹çœ‹æˆ‘çš„è´¢åº“ ğŸ“¦&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div id="menu-page" class="hidden"&gt;
                &lt;div class="card"&gt;
                    &lt;div class="menu-card"&gt;
                        &lt;div class="menu-item" onclick="continueGame()"&gt;
                            &lt;span class="menu-emoji"&gt;ğŸ®&lt;/span&gt;
                            &lt;span class="menu-text"&gt;ç»§ç»­é—¯å…³&lt;/span&gt;
                        &lt;/div&gt;
                        &lt;div class="menu-item" onclick="showTreasury()"&gt;
                            &lt;span class="menu-emoji"&gt;ğŸ“¦&lt;/span&gt;
                            &lt;span class="menu-text"&gt;æˆ‘çš„è´¢åº“&lt;/span&gt;
                        &lt;/div&gt;
                        &lt;div class="menu-item" onclick="showDailyWisdom()"&gt;
                            &lt;span class="menu-emoji"&gt;âœ¨&lt;/span&gt;
                            &lt;span class="menu-text"&gt;æ¯æ—¥è´¢ç¥å¼€ç¤º&lt;/span&gt;
                        &lt;/div&gt;
                        &lt;div class="menu-item" onclick="showWelcome()"&gt;
                            &lt;span class="menu-emoji"&gt;ğŸ &lt;/span&gt;
                            &lt;span class="menu-text"&gt;è¿”å›é¦–é¡µ&lt;/span&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div id="question-page" class="hidden"&gt;
                &lt;div class="gate-title" id="gate-title"&gt;&lt;/div&gt;
                &lt;div class="progress-bar"&gt;&lt;div class="progress-fill" id="progress-fill"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;div class="card question-card fade-in" id="question-card"&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;div id="result-page" class="hidden"&gt;
                &lt;div class="card result-card fade-in" id="result-card"&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;div id="treasury-page" class="hidden"&gt;
                &lt;div class="card"&gt;
                    &lt;h2 style="text-align: center; margin-bottom: 20px; color: var(--red);"&gt;ğŸ“¦ æˆ‘çš„è´¢åº“&lt;/h2&gt;
                    &lt;div class="treasury-grid" id="treasury-grid"&gt;&lt;/div&gt;
                    &lt;button class="btn btn-secondary" style="margin-top: 20px;" onclick="showMenu()"&gt;è¿”å›&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div id="wisdom-page" class="hidden"&gt;
                &lt;div class="card"&gt;
                    &lt;h2 style="text-align: center; margin-bottom: 20px; color: var(--red);"&gt;âœ¨ æ¯æ—¥è´¢ç¥å¼€ç¤º&lt;/h2&gt;
                    &lt;div class="daily-wisdom" id="daily-wisdom-text"&gt;&lt;/div&gt;
                    &lt;button class="btn btn-secondary" style="margin-top: 20px;" onclick="showMenu()"&gt;è¿”å›&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="footer"&gt;
            æœ¬å†…å®¹ä»…ä¸ºä¸­å›½ä¼ ç»Ÿæ­£å‘æ°‘ä¿—æ–‡åŒ–ä¼ æ’­ä¸ç§¯æå¿ƒç†å­¦å¼•å¯¼ï¼Œ&lt;br&gt;
            ä¸æ¶‰åŠå°å»ºè¿·ä¿¡ä¸ç®—å‘½é¢„æµ‹ï¼Œæ‰€æœ‰å†…å®¹å‡ä¸ºæ­£å‘å¿ƒç†æš—ç¤ºï¼Œæ— ä»»ä½•å†³ç­–æŒ‡å¯¼æ„ä¹‰ã€‚
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="poster-container" class="hidden"&gt;
        &lt;div id="poster"&gt;
            &lt;div class="poster-title"&gt;ğŸ® å¼€è´¢é—¨&lt;/div&gt;
            &lt;div class="poster-content" id="poster-content"&gt;&lt;/div&gt;
            &lt;div class="small-text"&gt;æ‰«ç å¼€å¯ä½ çš„è´¢é—¨&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
        let gameData = {
            currentGate: 1,
            currentQuestion: 0,
            answers: {},
            unlockedCards: [],
            dailyWisdomDate: null,
            dailyWisdomIndex: null
        };
        const staticData = {
            gates: [
                {
                    id: 1,
                    name: "å®ˆæ­£é—¨",
                    god: "æ–‡è´¢ç¥æ¯”å¹²",
                    theme: "ç¨³æ‰ç¨³æ‰“èµšæ­£è´¢ï¼Œé¿å‘ä¸è¸©é›·",
                    emoji: "ğŸ†",
                    questions: [
                        {
                            id: 1,
                            text: "æ–°çš„ä¸€å¹´ï¼Œé¢å¯¹ä¸»ä¸šå’Œå‰¯ä¸šï¼Œä½ çš„é€‰æ‹©æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "å…ˆæŠŠä¸»ä¸šæ·±è€•é€ï¼ŒæŠŠæ ¸å¿ƒæŠ€èƒ½ç»ƒåˆ°é¡¶å°–ï¼Œå†æƒ³åˆ«çš„ ğŸ’ª", type: "good" },
                                { value: "B", text: "ä¸»ä¸šæ‘¸é±¼ï¼Œç–¯ç‹‚æ‰¾å‰¯ä¸šï¼Œæƒ³å¤šçº¿å¼€èŠ±", type: "warning" },
                                { value: "C", text: "èººå¹³ï¼Œä¸»ä¸šå‰¯ä¸šéƒ½ä¸æƒ³åŠ¨ï¼Œç­‰ç€å¤©ä¸Šæ‰é¦…é¥¼", type: "danger" },
                                { value: "D", text: "åˆ«äººåšä»€ä¹ˆèµšé’±ï¼Œæˆ‘å°±è·Ÿç€åšä»€ä¹ˆ", type: "warning" }
                            ]
                        },
                        {
                            id: 2,
                            text: "é¢å¯¹åˆ«äººç»™ä½ ç”»çš„é«˜å›æŠ¥å¤§é¥¼ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "å…ˆçœ‹é¥¼èƒ½ä¸èƒ½çƒ™ç†Ÿï¼Œç®—æ¸…æ¥šé£é™©å’Œè½åœ°æ€§ï¼Œå†å†³å®š", type: "good" },
                                { value: "B", text: "å…ˆå†²äº†å†è¯´ï¼Œä¸‡ä¸€æˆäº†å‘¢", type: "warning" },
                                { value: "C", text: "åæ‰‹ç»™ä»–ç”»ä¸ªæ›´å¤§çš„ï¼Œè°ä¹Ÿåˆ«å¿½æ‚ è°", type: "neutral" },
                                { value: "D", text: "å®Œå…¨ç›¸ä¿¡ï¼Œé©¬ä¸ŠæŠŠé’±æŠ•è¿›å»", type: "danger" }
                            ]
                        },
                        {
                            id: 3,
                            text: "æé’±è·¯ä¸Šï¼Œä½ è§‰å¾—æœ€é è°±çš„æŠ¤åŸæ²³æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "è‡ªå·±çš„ä¸“ä¸šèƒ½åŠ›å’Œé è°±å£ç¢‘ï¼Œèµ°åˆ°å“ªéƒ½æœ‰é¥­åƒ", type: "good" },
                                { value: "B", text: "è®¤è¯†çš„äººå¤šï¼Œäººè„‰å¹¿", type: "neutral" },
                                { value: "C", text: "æ‰‹é‡Œçš„æœ¬é‡‘å¤šï¼Œèƒ½é’±ç”Ÿé’±", type: "neutral" },
                                { value: "D", text: "è¿æ°”å¥½ï¼Œæ€»èƒ½æ¡åˆ°æ¼", type: "warning" }
                            ]
                        }
                    ],
                    cards: {
                        good: { type: "ç¨³æ‰ç¨³æ‰“å‹", title: "æ­£è´¢å¼€æ‚Ÿå¡", heart: "æ­£è´¢ï¼Œæ˜¯ä½ é è‡ªå·±çš„åŒæ‰‹å’Œä¸“ä¸šï¼Œä¸€åˆ†ä¸€åˆ†èµšæ¥çš„é’±ï¼Œæ˜¯ä½ è´¢å¯Œçš„å‹èˆ±çŸ³ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„æ­£è´¢å¯†ç å°±å››ä¸ªå­—ï¼šæ·±è€•å®ˆæ­£ã€‚", warnings: ["ä¸è¦ç›²ç›®è·Ÿé£åšä¸ç†Ÿæ‚‰çš„å‰¯ä¸š", "ä¸è¦ä¸å¥½æ„æ€æ‹’ç»ä¸åˆç†çš„å·¥ä½œ", "ä¸è¦ç›¸ä¿¡èººèµšã€é«˜å›æŠ¥çš„é¬¼è¯", "å®šæœŸå¤ç›˜ï¼Œä½ çš„åŠªåŠ›æ‰ä¼šè¢«çœ‹è§"], task: "è¿™ä¸ªæœˆï¼Œæ‰“ç£¨ä¸€ä¸ªä½ çš„æ ¸å¿ƒä¸“ä¸šæŠ€èƒ½ï¼Œåšä¸€ä¸ªä½œå“é›†/æˆæœæ€»ç»“ã€‚" },
                        warning: { type: "æ½œåŠ›å¾…æŒ–å‹", title: "æ­£è´¢å¼€æ‚Ÿå¡", heart: "æ­£è´¢ï¼Œæ˜¯ä½ é è‡ªå·±çš„åŒæ‰‹å’Œä¸“ä¸šï¼Œä¸€åˆ†ä¸€åˆ†èµšæ¥çš„é’±ï¼Œæ˜¯ä½ è´¢å¯Œçš„å‹èˆ±çŸ³ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„æ­£è´¢å¯†ç å°±å››ä¸ªå­—ï¼šæ·±è€•å®ˆæ­£ã€‚", warnings: ["ä¸è¦ç›²ç›®è·Ÿé£åšä¸ç†Ÿæ‚‰çš„å‰¯ä¸š", "ä¸è¦ä¸å¥½æ„æ€æ‹’ç»ä¸åˆç†çš„å·¥ä½œ", "ä¸è¦ç›¸ä¿¡èººèµšã€é«˜å›æŠ¥çš„é¬¼è¯", "å®šæœŸå¤ç›˜ï¼Œä½ çš„åŠªåŠ›æ‰ä¼šè¢«çœ‹è§"], task: "è¿™ä¸ªæœˆï¼Œæ‰“ç£¨ä¸€ä¸ªä½ çš„æ ¸å¿ƒä¸“ä¸šæŠ€èƒ½ï¼Œåšä¸€ä¸ªä½œå“é›†/æˆæœæ€»ç»“ã€‚" },
                        danger: { type: "é¿å‘é¢„è­¦å‹", title: "æ­£è´¢å¼€æ‚Ÿå¡", heart: "æ­£è´¢ï¼Œæ˜¯ä½ é è‡ªå·±çš„åŒæ‰‹å’Œä¸“ä¸šï¼Œä¸€åˆ†ä¸€åˆ†èµšæ¥çš„é’±ï¼Œæ˜¯ä½ è´¢å¯Œçš„å‹èˆ±çŸ³ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„æ­£è´¢å¯†ç å°±å››ä¸ªå­—ï¼šæ·±è€•å®ˆæ­£ã€‚", warnings: ["ä¸è¦ç›²ç›®è·Ÿé£åšä¸ç†Ÿæ‚‰çš„å‰¯ä¸š", "ä¸è¦ä¸å¥½æ„æ€æ‹’ç»ä¸åˆç†çš„å·¥ä½œ", "ä¸è¦ç›¸ä¿¡èººèµšã€é«˜å›æŠ¥çš„é¬¼è¯", "å®šæœŸå¤ç›˜ï¼Œä½ çš„åŠªåŠ›æ‰ä¼šè¢«çœ‹è§"], task: "è¿™ä¸ªæœˆï¼Œæ‰“ç£¨ä¸€ä¸ªä½ çš„æ ¸å¿ƒä¸“ä¸šæŠ€èƒ½ï¼Œåšä¸€ä¸ªä½œå“é›†/æˆæœæ€»ç»“ã€‚" }
                    }
                },
                {
                    id: 2,
                    name: "æœºé‡é—¨",
                    god: "æ­¦è´¢ç¥å…³å…¬",
                    theme: "æŠ“é£å£ç ´å±€ï¼Œé åˆ›æ„èµšæœºé‡è´¢",
                    emoji: "âš¡",
                    questions: [
                        {
                            id: 1,
                            text: "é¢å¯¹ä¸€ä¸ªæ–°çš„é£å£/æ–°æœºä¼šï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "å…ˆå°æ­¥è¯•é”™ï¼Œè¾¹åšè¾¹è°ƒæ•´ï¼Œé”™è¿‡æ¯”åšé”™æ›´å¯æƒœ âœ¨", type: "good" },
                                { value: "B", text: "ç­‰åˆ«äººåšæˆäº†ï¼Œæˆ‘å†è·Ÿç€åšï¼Œç¨³ä¸€ç‚¹", type: "warning" },
                                { value: "C", text: "å…¨æ˜¯éª—å±€ï¼Œæ ¹æœ¬ä¸çœ‹", type: "warning" },
                                { value: "D", text: "æŠŠæ‰€æœ‰é’±éƒ½æŠ•è¿›å»ï¼Œä¸€æŠŠæ¢­å“ˆ", type: "danger" }
                            ]
                        },
                        {
                            id: 2,
                            text: "æé’±è·¯ä¸Šï¼Œä½ è§‰å¾—çµæ„Ÿå’Œåˆ›æ„æ˜¯ä»€ä¹ˆï¼Ÿ",
                            options: [
                                { value: "A", text: "æ˜¯èƒ½å˜ç°çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œè¦å¤šè½åœ°ï¼Œå¤šå°è¯•", type: "good" },
                                { value: "B", text: "æ˜¯æ²¡ç”¨çš„ç©ºæƒ³ï¼Œä¸å¦‚è¸è¸å®å®å¹²æ´»", type: "warning" },
                                { value: "C", text: "æ˜¯å¶å°”çš„çµå…‰ä¸€ç°ï¼Œæƒ³äº†ä¹Ÿå°±å¿˜äº†", type: "neutral" },
                                { value: "D", text: "æ˜¯ç»™è€æ¿æ‰“å·¥çš„å·¥å…·ï¼Œè‡ªå·±ç”¨ä¸ä¸Š", type: "warning" }
                            ]
                        },
                        {
                            id: 3,
                            text: "ä¸€ä¸ªé¡¹ç›®åšäº†ä¸€åŠï¼Œå‘ç°æ–¹å‘ä¸å¯¹ï¼Œä½ ä¼šï¼Ÿ",
                            options: [
                                { value: "A", text: "ç«‹åˆ»è°ƒæ•´æ€è·¯ï¼Œæ¢æ¡è·¯èµ°ï¼Œä¸é’»ç‰›è§’å°–", type: "good" },
                                { value: "B", text: "ç¡¬ç€å¤´çš®åšå®Œï¼Œä¸ç„¶ä¹‹å‰çš„åŠªåŠ›éƒ½ç™½è´¹äº†", type: "warning" },
                                { value: "C", text: "ç›´æ¥æ‘†çƒ‚æ”¾å¼ƒï¼Œå•¥ä¹Ÿä¸æƒ³å¹²äº†", type: "danger" },
                                { value: "D", text: "ç”©é”…ç»™åˆ«äººï¼Œå’Œæˆ‘æ²¡å…³ç³»", type: "warning" }
                            ]
                        }
                    ],
                    cards: {
                        good: { type: "é£å£æ•æ‰‹å‹", title: "æœºé‡å¼€æ‚Ÿå¡", heart: "æœºé‡è´¢ï¼Œæ˜¯ä½ é çœ¼å…‰ã€åˆ›æ„å’Œèƒ†è¯†ï¼ŒæŠ“ä½æ—¶ä»£çº¢åˆ©èµšæ¥çš„é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„æœºé‡å¯†ç å°±å››ä¸ªå­—ï¼šæ•¢é—¯æ•¢è¯•ã€‚", warnings: ["ä¸è¦å¹¿æ’’ç½‘è¿½æ‰€æœ‰é£å£", "ä¸è¦åªç©ºæƒ³ä¸è½åœ°", "ä¸è¦ä¸€æŠŠæ¢­å“ˆé«˜é£é™©é¡¹ç›®", "ä¸è¦æ€•çŠ¯é”™"], task: "è¿™ä¸ªæœˆï¼ŒæŠŠä½ è„‘å­é‡Œæƒ³äº†å¾ˆä¹…çš„ä¸€ä¸ªå°åˆ›æ„ï¼ŒèŠ±3å¤©æ—¶é—´è½åœ°å‡ºä¸€ä¸ªæœ€å°ç‰ˆæœ¬ã€‚" },
                        warning: { type: "æ½œåŠ›è§‰é†’å‹", title: "æœºé‡å¼€æ‚Ÿå¡", heart: "æœºé‡è´¢ï¼Œæ˜¯ä½ é çœ¼å…‰ã€åˆ›æ„å’Œèƒ†è¯†ï¼ŒæŠ“ä½æ—¶ä»£çº¢åˆ©èµšæ¥çš„é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„æœºé‡å¯†ç å°±å››ä¸ªå­—ï¼šæ•¢é—¯æ•¢è¯•ã€‚", warnings: ["ä¸è¦å¹¿æ’’ç½‘è¿½æ‰€æœ‰é£å£", "ä¸è¦åªç©ºæƒ³ä¸è½åœ°", "ä¸è¦ä¸€æŠŠæ¢­å“ˆé«˜é£é™©é¡¹ç›®", "ä¸è¦æ€•çŠ¯é”™"], task: "è¿™ä¸ªæœˆï¼ŒæŠŠä½ è„‘å­é‡Œæƒ³äº†å¾ˆä¹…çš„ä¸€ä¸ªå°åˆ›æ„ï¼ŒèŠ±3å¤©æ—¶é—´è½åœ°å‡ºä¸€ä¸ªæœ€å°ç‰ˆæœ¬ã€‚" },
                        danger: { type: "é¿å‘é¢„è­¦å‹", title: "æœºé‡å¼€æ‚Ÿå¡", heart: "æœºé‡è´¢ï¼Œæ˜¯ä½ é çœ¼å…‰ã€åˆ›æ„å’Œèƒ†è¯†ï¼ŒæŠ“ä½æ—¶ä»£çº¢åˆ©èµšæ¥çš„é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„æœºé‡å¯†ç å°±å››ä¸ªå­—ï¼šæ•¢é—¯æ•¢è¯•ã€‚", warnings: ["ä¸è¦å¹¿æ’’ç½‘è¿½æ‰€æœ‰é£å£", "ä¸è¦åªç©ºæƒ³ä¸è½åœ°", "ä¸è¦ä¸€æŠŠæ¢­å“ˆé«˜é£é™©é¡¹ç›®", "ä¸è¦æ€•çŠ¯é”™"], task: "è¿™ä¸ªæœˆï¼ŒæŠŠä½ è„‘å­é‡Œæƒ³äº†å¾ˆä¹…çš„ä¸€ä¸ªå°åˆ›æ„ï¼ŒèŠ±3å¤©æ—¶é—´è½åœ°å‡ºä¸€ä¸ªæœ€å°ç‰ˆæœ¬ã€‚" }
                    }
                },
                {
                    id: 3,
                    name: "å–„ç¼˜é—¨",
                    god: "æ–‡è´¢ç¥èŒƒè ¡",
                    theme: "é‡è´µäººç»“å–„ç¼˜ï¼Œé äººè„‰èµšé•¿ä¹…é’±",
                    emoji: "ğŸ¤",
                    questions: [
                        {
                            id: 1,
                            text: "é¢å¯¹ç¤¾äº¤å’Œäººè„‰ï¼Œä½ çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "çœŸè¯šå¾…äººï¼Œäº’åˆ©å…±èµ¢ï¼Œå…ˆç»™åˆ«äººåˆ›é€ ä»·å€¼ï¼Œå†è°ˆå›æŠ¥ ğŸ¤", type: "good" },
                                { value: "B", text: "ç–¯ç‹‚åŠ å¥½å‹ï¼Œè®¤è¯†çš„äººè¶Šå¤šè¶Šå¥½", type: "warning" },
                                { value: "C", text: "ç¤¾æï¼Œå®Œå…¨ä¸æƒ³ç¤¾äº¤ï¼Œå°±æƒ³è‡ªå·±å¾…ç€", type: "neutral" },
                                { value: "D", text: "æœ‰ç”¨å°±å¤„ï¼Œæ²¡ç”¨å°±åˆ ï¼Œæè‡´åŠŸåˆ©", type: "warning" }
                            ]
                        },
                        {
                            id: 2,
                            text: "æœ‹å‹/åŒäº‹æ‰¾ä½ åˆä½œï¼Œä½ æœ€çœ‹é‡çš„æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "å¯¹æ–¹çš„äººå“å’Œå£ç¢‘ï¼Œèƒ½ä¸èƒ½äº’ç›¸ä¿¡ä»»ï¼Œä¸€èµ·å…±èµ¢", type: "good" },
                                { value: "B", text: "èƒ½èµšå¤šå°‘é’±ï¼Œåˆ«çš„éƒ½ä¸é‡è¦", type: "warning" },
                                { value: "C", text: "èƒ½ä¸èƒ½è®©æˆ‘å°‘å¹²æ´»ï¼Œå¤šæ‹¿é’±", type: "warning" },
                                { value: "D", text: "å…³ç³»å¥½ä¸å¥½ï¼Œä¸å¥½æ„æ€æ‹’ç»å°±ç­”åº”", type: "neutral" }
                            ]
                        },
                        {
                            id: 3,
                            text: "èº«è¾¹æœ‰äººæ¶ˆè€—ä½ ã€ç»™ä½ ä¼ é€’è´Ÿèƒ½é‡ï¼Œä½ ä¼šï¼Ÿ",
                            options: [
                                { value: "A", text: "åŠæ—¶æ­¢æŸï¼Œæ…¢æ…¢è¿œç¦»ï¼Œä¸æŠŠç²¾åŠ›æµªè´¹åœ¨çƒ‚äººçƒ‚äº‹ä¸Š", type: "good" },
                                { value: "B", text: "å¿ç€ï¼Œä¸å¥½æ„æ€æ’•ç ´è„¸", type: "warning" },
                                { value: "C", text: "è·Ÿç€ä¸€èµ·åæ§½ï¼Œäº’ç›¸æ¶ˆè€—", type: "danger" },
                                { value: "D", text: "ç›´æ¥æ‹‰é»‘åµæ¶ï¼Œè€æ­»ä¸ç›¸å¾€æ¥", type: "neutral" }
                            ]
                        }
                    ],
                    cards: {
                        good: { type: "è´µäººå¸é“çŸ³å‹", title: "å–„ç¼˜å¼€æ‚Ÿå¡", heart: "å–„ç¼˜è´¢ï¼Œæ˜¯ä½ é äººè„‰ã€å£ç¢‘å’Œè´µäººææºï¼Œèµšæ¥çš„é•¿ä¹…é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„å–„ç¼˜å¯†ç å°±å››ä¸ªå­—ï¼šçœŸå¿ƒæ¢çœŸå¿ƒã€‚", warnings: ["ä¸è¦ä¸ºäº†è¿åˆåˆ«äººæ¶ˆè€—è‡ªå·±", "ä¸è¦åŠŸåˆ©æ€§ç¤¾äº¤", "ä¸è¦ä¸å¥½æ„æ€æ‹’ç»ä¸é è°±çš„åˆä½œ", "ä¸»åŠ¨å¸®åˆ«äººæ­ä¸ªæ¡¥"], task: "è¿™ä¸ªæœˆï¼Œä¸»åŠ¨è”ç³»3ä¸ªä½ è§‰å¾—é è°±ã€åŒé¢‘çš„æœ‹å‹ï¼ŒçœŸå¿ƒé—®é—®å¯¹æ–¹çš„è¿‘å†µã€‚" },
                        warning: { type: "æ½œåŠ›è§‰é†’å‹", title: "å–„ç¼˜å¼€æ‚Ÿå¡", heart: "å–„ç¼˜è´¢ï¼Œæ˜¯ä½ é äººè„‰ã€å£ç¢‘å’Œè´µäººææºï¼Œèµšæ¥çš„é•¿ä¹…é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„å–„ç¼˜å¯†ç å°±å››ä¸ªå­—ï¼šçœŸå¿ƒæ¢çœŸå¿ƒã€‚", warnings: ["ä¸è¦ä¸ºäº†è¿åˆåˆ«äººæ¶ˆè€—è‡ªå·±", "ä¸è¦åŠŸåˆ©æ€§ç¤¾äº¤", "ä¸è¦ä¸å¥½æ„æ€æ‹’ç»ä¸é è°±çš„åˆä½œ", "ä¸»åŠ¨å¸®åˆ«äººæ­ä¸ªæ¡¥"], task: "è¿™ä¸ªæœˆï¼Œä¸»åŠ¨è”ç³»3ä¸ªä½ è§‰å¾—é è°±ã€åŒé¢‘çš„æœ‹å‹ï¼ŒçœŸå¿ƒé—®é—®å¯¹æ–¹çš„è¿‘å†µã€‚" },
                        danger: { type: "é¿å‘é¢„è­¦å‹", title: "å–„ç¼˜å¼€æ‚Ÿå¡", heart: "å–„ç¼˜è´¢ï¼Œæ˜¯ä½ é äººè„‰ã€å£ç¢‘å’Œè´µäººææºï¼Œèµšæ¥çš„é•¿ä¹…é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„å–„ç¼˜å¯†ç å°±å››ä¸ªå­—ï¼šçœŸå¿ƒæ¢çœŸå¿ƒã€‚", warnings: ["ä¸è¦ä¸ºäº†è¿åˆåˆ«äººæ¶ˆè€—è‡ªå·±", "ä¸è¦åŠŸåˆ©æ€§ç¤¾äº¤", "ä¸è¦ä¸å¥½æ„æ€æ‹’ç»ä¸é è°±çš„åˆä½œ", "ä¸»åŠ¨å¸®åˆ«äººæ­ä¸ªæ¡¥"], task: "è¿™ä¸ªæœˆï¼Œä¸»åŠ¨è”ç³»3ä¸ªä½ è§‰å¾—é è°±ã€åŒé¢‘çš„æœ‹å‹ï¼ŒçœŸå¿ƒé—®é—®å¯¹æ–¹çš„è¿‘å†µã€‚" }
                    }
                },
                {
                    id: 4,
                    name: "èšè´¢é—¨",
                    god: "æ­¦è´¢ç¥èµµå…¬æ˜",
                    theme: "ä¼šèµšé’±æ›´ä¼šå®ˆé’±ï¼Œé è§„åˆ’èµšè§„æ¨¡åŒ–çš„é’±",
                    emoji: "ğŸ“Š",
                    questions: [
                        {
                            id: 1,
                            text: "èµšåˆ°é’±ä¹‹åï¼Œä½ ç¬¬ä¸€æ—¶é—´ä¼šï¼Ÿ",
                            options: [
                                { value: "A", text: "åšå¥½è§„åˆ’ï¼Œåˆ†æ¸…æ¥šæ¶ˆè´¹ã€å‚¨è“„ã€æŠ•èµ„ã€å¤‡ç”¨é‡‘ï¼Œä¸çèŠ± ğŸ“Š", type: "good" },
                                { value: "B", text: "ç«‹åˆ»çŠ’åŠ³è‡ªå·±ï¼Œå…¨èŠ±æ‰ï¼Œæœˆå…‰ä¸‡å²", type: "danger" },
                                { value: "C", text: "å…¨å­˜èµ·æ¥ï¼Œä¸€åˆ†é’±ä¸èˆå¾—èŠ±", type: "warning" },
                                { value: "D", text: "æ‹¿å»æŠ•èµ„ï¼Œæƒ³é’±ç”Ÿé’±ï¼Œä¸ç®¡é£é™©", type: "warning" }
                            ]
                        },
                        {
                            id: 2,
                            text: "é¢å¯¹å›¢é˜Ÿ/é¡¹ç›®ç®¡ç†ï¼Œä½ çš„æ€è·¯æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "å®šå¥½å…¨å±€è§„åˆ’ï¼ŒæŠŠåˆé€‚çš„äººæ”¾åœ¨åˆé€‚çš„ä½ç½®ï¼Œåˆ†å·¥æ˜ç¡®ï¼Œä¸€èµ·æ‹¿ç»“æœ", type: "good" },
                                { value: "B", text: "äº‹å¿…èº¬äº²ï¼Œä»€ä¹ˆéƒ½è¦è‡ªå·±ç®¡ï¼Œç´¯æ­»ä¹Ÿä¸æ”¾å¿ƒ", type: "warning" },
                                { value: "C", text: "å…¨ç”©ç»™åˆ«äººï¼Œè‡ªå·±å½“ç”©æ‰‹æŒæŸœ", type: "danger" },
                                { value: "D", text: "æƒ³åˆ°å“ªåšåˆ°å“ªï¼Œèµ°ä¸€æ­¥çœ‹ä¸€æ­¥", type: "neutral" }
                            ]
                        },
                        {
                            id: 3,
                            text: "æ–°çš„ä¸€å¹´ï¼Œä½ å¯¹è´¢å¯Œçš„ç»ˆæç›®æ ‡æ˜¯ï¼Ÿ",
                            options: [
                                { value: "A", text: "æ­å»ºå±äºè‡ªå·±çš„æŒç»­èµšé’±ä½“ç³»ï¼Œä¸ç”¨äº²åŠ›äº²ä¸ºï¼Œä¹Ÿæœ‰ç¨³å®šç°é‡‘æµ", type: "good" },
                                { value: "B", text: "èµšä¸€ç¬”å¿«é’±ï¼Œå¤ŸèŠ±å°±è¡Œ", type: "warning" },
                                { value: "C", text: "å½“ä¸Šå¤§è€æ¿ï¼Œæœ‰é¢å­å°±è¡Œ", type: "neutral" },
                                { value: "D", text: "å®ç°è´¢å¯Œè‡ªç”±ï¼Œå•¥ä¹Ÿä¸ç”¨å¹²", type: "warning" }
                            ]
                        }
                    ],
                    cards: {
                        good: { type: "å¤©ç”Ÿèšè´¢å‹", title: "èšè´¢å¼€æ‚Ÿå¡", heart: "èšè´¢ï¼Œä¸æ˜¯ä½ èƒ½èµšå¤šå°‘é’±ï¼Œè€Œæ˜¯ä½ èƒ½ç•™ä¸‹å¤šå°‘é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„èšè´¢å¯†ç å°±å››ä¸ªå­—ï¼šè°‹å®šè€ŒååŠ¨ã€‚", warnings: ["ä¸è¦èµšå¤šå°‘èŠ±å¤šå°‘", "ä¸è¦äº‹å¿…èº¬äº²", "ä¸è¦ç›²ç›®æ‰©å¼ ", "ä¸è¦åªç›¯ç€èµšé’±"], task: "è¿™ä¸ªæœˆï¼Œç»™è‡ªå·±åšä¸€ä»½å…¨å¹´çš„è´¢å¯Œè§„åˆ’å’Œæ”¶æ”¯è¡¨ã€‚" },
                        warning: { type: "æ½œåŠ›è§‰é†’å‹", title: "èšè´¢å¼€æ‚Ÿå¡", heart: "èšè´¢ï¼Œä¸æ˜¯ä½ èƒ½èµšå¤šå°‘é’±ï¼Œè€Œæ˜¯ä½ èƒ½ç•™ä¸‹å¤šå°‘é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„èšè´¢å¯†ç å°±å››ä¸ªå­—ï¼šè°‹å®šè€ŒååŠ¨ã€‚", warnings: ["ä¸è¦èµšå¤šå°‘èŠ±å¤šå°‘", "ä¸è¦äº‹å¿…èº¬äº²", "ä¸è¦ç›²ç›®æ‰©å¼ ", "ä¸è¦åªç›¯ç€èµšé’±"], task: "è¿™ä¸ªæœˆï¼Œç»™è‡ªå·±åšä¸€ä»½å…¨å¹´çš„è´¢å¯Œè§„åˆ’å’Œæ”¶æ”¯è¡¨ã€‚" },
                        danger: { type: "é¿å‘é¢„è­¦å‹", title: "èšè´¢å¼€æ‚Ÿå¡", heart: "èšè´¢ï¼Œä¸æ˜¯ä½ èƒ½èµšå¤šå°‘é’±ï¼Œè€Œæ˜¯ä½ èƒ½ç•™ä¸‹å¤šå°‘é’±ã€‚\næ–°çš„ä¸€å¹´ï¼Œä½ çš„èšè´¢å¯†ç å°±å››ä¸ªå­—ï¼šè°‹å®šè€ŒååŠ¨ã€‚", warnings: ["ä¸è¦èµšå¤šå°‘èŠ±å¤šå°‘", "ä¸è¦äº‹å¿…èº¬äº²", "ä¸è¦ç›²ç›®æ‰©å¼ ", "ä¸è¦åªç›¯ç€èµšé’±"], task: "è¿™ä¸ªæœˆï¼Œç»™è‡ªå·±åšä¸€ä»½å…¨å¹´çš„è´¢å¯Œè§„åˆ’å’Œæ”¶æ”¯è¡¨ã€‚" }
                    }
                }
            ],
            dailyWisdom: [
                "æ·±è€•ä¸»ä¸šï¼ŒæŠŠä¸€ä»¶äº‹åšåˆ°æè‡´ï¼Œå°±æ˜¯æœ€å¥½çš„æŠ¤åŸæ²³ã€‚",
                "æœºé‡æ€»æ˜¯ç•™ç»™æœ‰å‡†å¤‡çš„äººï¼Œä½†ä¹Ÿç•™ç»™æ•¢è¡ŒåŠ¨çš„äººã€‚",
                "äººè„‰çš„æœ¬è´¨æ˜¯ä»·å€¼äº¤æ¢ï¼Œå…ˆæˆä¸ºåˆ«äººçš„è´µäººã€‚",
                "èƒ½èµšé’±æ˜¯æœ¬äº‹ï¼Œèƒ½å®ˆé’±æ˜¯æ™ºæ…§ï¼Œèƒ½è®©é’±ç”Ÿé’±æ˜¯æ ¼å±€ã€‚",
                "ä¸è¦ç­‰å®Œç¾äº†å†å¼€å§‹ï¼Œå…ˆå¼€å§‹äº†å†å®Œç¾ã€‚",
                "çœŸæ­£çš„ç¨³å®šï¼Œæ¥è‡ªäºä½ ä¸å¯æ›¿ä»£çš„èƒ½åŠ›ã€‚",
                "æ…¢å°±æ˜¯å¿«ï¼Œç¨³å°±æ˜¯èµ¢ï¼Œæ·±è€•æ‰èƒ½åšç§¯è–„å‘ã€‚",
                "æˆåŠŸçš„ç§˜è¯€ï¼Œåœ¨äºæŠŠç®€å•çš„äº‹æƒ…é‡å¤åšã€‚",
                "ä½ çš„æ—¶é—´åœ¨å“ªé‡Œï¼Œä½ çš„æˆå°±å°±åœ¨å“ªé‡Œã€‚",
                "æ•¢é—¯æ•¢è¯•ï¼Œä½†ä¹Ÿè¦ç»™è‡ªå·±ç•™åè·¯ã€‚"
            ]
        };
        function loadGameData() {
            const saved = localStorage.getItem('fortuneGate');
            if (saved) { gameData = { ...gameData, ...JSON.parse(saved) }; }
        }
        function saveGameData() {
            localStorage.setItem('fortuneGate', JSON.stringify(gameData));
        }
        function hideAllPages() {
            document.querySelectorAll('.main-content &gt; div').forEach(el =&gt; el.classList.add('hidden'));
        }
        function showWelcome() {
            hideAllPages();
            document.getElementById('welcome-page').classList.remove('hidden');
        }
        function showMenu() {
            hideAllPages();
            document.getElementById('menu-page').classList.remove('hidden');
        }
        function startGame() {
            gameData.currentGate = 1;
            gameData.currentQuestion = 0;
            gameData.answers = {};
            saveGameData();
            showQuestion();
        }
        function continueGame() {
            if (gameData.currentGate &gt; 4) {
                showMenu();
                alert('ğŸ‰ æ­å–œä½ ï¼å››æ‰‡è´¢é—¨å·²ç»å…¨éƒ¨æ‰“å¼€ï¼å»è´¢åº“çœ‹çœ‹ä½ çš„æ”¶è·å§ï½');
            } else {
                showQuestion();
            }
        }
        function showQuestion() {
            hideAllPages();
            const page = document.getElementById('question-page');
            const card = document.getElementById('question-card');
            const gate = staticData.gates[gameData.currentGate - 1];
            document.getElementById('gate-title').textContent = `${gate.emoji} ç¬¬${gameData.currentGate}å…³ï¼š${gate.name}`;
            const progress = ((gameData.currentGate - 1) * 3 + gameData.currentQuestion) / 12 * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            const question = gate.questions[gameData.currentQuestion];
            let html = `&lt;div class="question-text"&gt;${question.text}&lt;/div&gt;&lt;div class="options"&gt;`;
            question.options.forEach(opt =&gt; {
                html += `&lt;div class="option" onclick="selectOption('${opt.type}')"&gt;${opt.value}. ${opt.text}&lt;/div&gt;`;
            });
            html += `&lt;/div&gt;`;
            card.innerHTML = html;
            page.classList.remove('hidden');
        }
        let selectedType = null;
        function selectOption(type) {
            selectedType = type;
            document.querySelectorAll('.option').forEach(opt =&gt; opt.classList.remove('selected'));
            event.target.classList.add('selected');
            setTimeout(() =&gt; submitAnswer(), 300);
        }
        function submitAnswer() {
            if (!gameData.answers[gameData.currentGate]) {
                gameData.answers[gameData.currentGate] = [];
            }
            gameData.answers[gameData.currentGate].push(selectedType);
            gameData.currentQuestion++;
            if (gameData.currentQuestion &gt;= 3) {
                showResult();
            } else {
                saveGameData();
                showQuestion();
            }
        }
        function showResult() {
            hideAllPages();
            const gate = staticData.gates[gameData.currentGate - 1];
            const answers = gameData.answers[gameData.currentGate];
            const goodCount = answers.filter(a =&gt; a === 'good').length;
            const dangerCount = answers.filter(a =&gt; a === 'danger').length;
            let cardType;
            if (goodCount &gt;= 2) { cardType = 'good'; }
            else if (dangerCount &gt;= 2) { cardType = 'danger'; }
            else { cardType = 'warning'; }
            const card = gate.cards[cardType];
            if (!gameData.unlockedCards.includes(gameData.currentGate)) {
                gameData.unlockedCards.push(gameData.currentGate);
            }
            saveGameData();
            const page = document.getElementById('result-page');
            const resultCard = document.getElementById('result-card');
            let warningsHtml = '&lt;ul class="warnings-list"&gt;';
            card.warnings.forEach(w =&gt; warningsHtml += `&lt;li&gt;${w}&lt;/li&gt;`);
            warningsHtml += '&lt;/ul&gt;';
            resultCard.innerHTML = `
                &lt;div class="card-type"&gt;ğŸ† ${card.type}&lt;/div&gt;
                &lt;div class="card-title"&gt;${card.title}&lt;/div&gt;
                &lt;div class="section"&gt;
                    &lt;div class="section-title"&gt;ğŸ“œ è´¢ç¥çœŸä¼ &lt;/div&gt;
                    &lt;div class="section-content" style="white-space: pre-line;"&gt;${card.heart}&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="section"&gt;
                    &lt;div class="section-title"&gt;âš ï¸ é¿å‘æé†’&lt;/div&gt;
                    &lt;div class="section-content"&gt;${warningsHtml}&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="section"&gt;
                    &lt;div class="section-title"&gt;âœ… æ–°å¹´å°ä»»åŠ¡&lt;/div&gt;
                    &lt;div class="task-box"&gt;${card.task}&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="nav-buttons"&gt;
                    &lt;button class="btn btn-secondary" onclick="generatePoster()"&gt;ç”Ÿæˆæµ·æŠ¥ ğŸ“¸&lt;/button&gt;
                    ${gameData.currentGate &lt; 4 ? '&lt;button class="btn btn-primary" onclick="nextGate()"&gt;å¼€å¯ä¸‹ä¸€æ‰‡è´¢é—¨ ğŸšª&lt;/button&gt;' : '&lt;button class="btn btn-primary" onclick="showTreasury()"&gt;æŸ¥çœ‹è´¢åº“ ğŸ“¦&lt;/button&gt;'}
                &lt;/div&gt;
                &lt;button class="btn btn-secondary" onclick="showMenu()" style="margin-top: 10px;"&gt;è¿”å›èœå•&lt;/button&gt;
            `;
            page.classList.remove('hidden');
        }
        function nextGate() {
            gameData.currentGate++;
            gameData.currentQuestion = 0;
            saveGameData();
            showQuestion();
        }
        function showTreasury() {
            hideAllPages();
            const page = document.getElementById('treasury-page');
            const grid = document.getElementById('treasury-grid');
            let html = '';
            staticData.gates.forEach(gate =&gt; {
                const unlocked = gameData.unlockedCards.includes(gate.id);
                html += `
                    &lt;div class="treasury-item ${unlocked ? '' : 'locked'}" onclick="${unlocked ? `showCardDetail(${gate.id})` : ''}"&gt;
                        &lt;div class="treasury-emoji"&gt;${unlocked ? gate.emoji : 'ğŸ”’'}&lt;/div&gt;
                        &lt;div class="treasury-name"&gt;${gate.name}&lt;/div&gt;
                    &lt;/div&gt;
                `;
            });
            grid.innerHTML = html;
            page.classList.remove('hidden');
        }
        function showCardDetail(gateId) {
            gameData.currentGate = gateId;
            gameData.currentQuestion = 2;
            gameData.answers[gateId] = ['good', 'good', 'good'];
            showResult();
        }
        function showDailyWisdom() {
            hideAllPages();
            const today = new Date().toDateString();
            if (gameData.dailyWisdomDate !== today) {
                gameData.dailyWisdomDate = today;
                gameData.dailyWisdomIndex = Math.floor(Math.random() * staticData.dailyWisdom.length);
                saveGameData();
            }
            const text = staticData.dailyWisdom[gameData.dailyWisdomIndex];
            document.getElementById('daily-wisdom-text').textContent = text;
            document.getElementById('wisdom-page').classList.remove('hidden');
        }
        function generatePoster() {
            const gate = staticData.gates[gameData.currentGate - 1];
            const answers = gameData.answers[gameData.currentGate];
            const goodCount = answers.filter(a =&gt; a === 'good').length;
            const dangerCount = answers.filter(a =&gt; a === 'danger').length;
            let cardType = goodCount &gt;= 2 ? 'good' : (dangerCount &gt;= 2 ? 'danger' : 'warning');
            const card = gate.cards[cardType];
            document.getElementById('poster-content').innerHTML = `
                &lt;div style="font-weight: bold; font-size: 1.2rem; margin-bottom: 10px; color: #D92121;"&gt;${card.title}&lt;/div&gt;
                &lt;div style="margin-bottom: 15px; color: #666;"&gt;${card.type}&lt;/div&gt;
                &lt;div style="line-height: 1.8; font-size: 0.95rem;"&gt;${card.heart}&lt;/div&gt;
            `;
            document.getElementById('poster-container').classList.remove('hidden');
            setTimeout(() =&gt; {
                html2canvas(document.getElementById('poster')).then(canvas =&gt; {
                    const link = document.createElement('a');
                    link.download = 'fortune-gate.png';
                    link.href = canvas.toDataURL();
                    link.click();
                    document.getElementById('poster-container').classList.add('hidden');
                });
            }, 500);
        }
        loadGameData();
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
